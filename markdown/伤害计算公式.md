# <明日方舟: 终末地> 伤害计算公式

[来源](https://bbs.nga.cn/read.php?tid=46094556)

一些常量:

- 暴击伤害：默认为 50% 即 0.5

## 常规伤害

总公式: 常规伤害 =
[基础伤害区](#基础伤害区) *
[暴击区](#暴击区) *
[伤害加成区](#伤害加成区) *
[伤害减免区](#伤害减免区) *
[增幅区](#增幅区) *
[虚弱区](#虚弱区) *
[庇护区](#庇护区) *
[脆弱区](#脆弱区) *
[易伤区](#易伤区) *
[防御区](#防御区) *
[失衡易伤区](#失衡易伤区) *
[抗性区](#抗性区) *
[非主控减伤区](#非主控减伤区) *
[连击增伤区](#连击增伤区) *
[特殊乘区](#特殊乘区)

---

### 基础伤害区

**基础伤害区 = 伤害倍率 * 对应属性**

干员的攻击力计算公式如下：

攻击力 = `[(干员基础攻击力+ 武器基础攻击力)* (1+ 百分比加成)+ 固定数值加成] * (1+ 能力值加成)`

其中能力值加成=`主能力 * 0.005+ 副能力 * 0.002`

---

### 暴击区

**暴击区 = 1 + 暴击率 * 暴击伤害**

暴击区的计算很容易，也就是：

- 暴击时: 暴击区 = `1 + 暴击伤害`
- 未暴击: 暴击区 = `1`

由此可得：
暴击区期望 = (1 + 暴击伤害) * 暴击率 + 1 * (1 - 暴击率) = 1 + 暴击率 * 暴击伤害

---

### 伤害加成区

**伤害加成区 = 100% + 伤害类型伤害加成 + 技能类型伤害加成 + 失衡伤害加成 + 其他伤害加成**

伤害加成在各类效果中的描述为 `{}伤害+` 或者 `{}伤害加成`。

目前游戏中，伤害类型分为物理伤害、法术伤害、超域伤害。其中，法术伤害又分为灼热伤害、电磁伤害、寒冷伤害、自然伤害`。

这里的伤害类型伤害加成就是指针对于这些伤害类型及其复合的伤害加成效果，常见于装备的副词条，如`寒冷和电磁伤害`、`灼热和自然伤害`
等。一些装备的套组效果、武器技能效果中也可以见到此类效果。
游戏中通常意义下的技能类型包括普通攻击、战技、连携技和终结技四种。常见于装备的副词条，如`普通攻击伤害加成`、`战技伤害加成`等。

**注意**：普通攻击并不能视为完全意义的技能类型，游戏中全技能伤害提升仅提升战技、终结技和连携技的伤害，并不包括普通攻击。下落攻击、处决攻击等仍能受益于普通攻击伤害加成。
失衡伤害加成即`对失衡目标伤害加成`，注意此处需与后文的失衡易伤区相区分。
当然，可以有综合以上多个伤害加成的复合伤害加成以及在特定条件下生效的伤害加成。

---

### 伤害减免区

**伤害减免区 = 1 - 伤害类型伤害减免**

伤害减免是一类直接减少受到伤害的效果，其主要针对于伤害类型。包括`全伤害减免`、`超域伤害减免`、`物理伤害减免`和`自然伤害减免`
等。

游戏中最常见的是装备副词条提供的全伤害减免，例如生物辅助接驳器提供的 17.15%全伤害减免、纾难识别牌提供的 17.76%全伤害减免等。

游戏中一些副本也会为敌人提供伤害减免效果。

注意将伤害减免区与防御区和抗性区区分。

对于敌人，破潮之像远程形态下受到灼热伤害提升 30%，其他类型伤害降低 50%。这两部分效果均属于本乘区。

---

### 增幅区

**增幅区 = 1+ Σ增幅效果**

增幅效果即`一定时间内目标造成的特定属性的伤害提高`，其主要作用于特定的伤害类型。

通常情况下，增幅效果作用于队伍中所有干员。

目前游戏中赛希的终结技和安塔尔的战技和终结技能够为队伍提供一定数值的增幅效果。

注意此处需与伤害加成区分。此类效果一般情况下都会被标注为`增幅效果`。

---

### 虚弱区

**虚弱区 = Π(1- 虚弱效果)**

虚弱效果即`一定时间内目标的造成的伤害降低`，这是一种直接使目标造成的伤害降低的效果，此类效果叠加方式为非线性叠加(乘算)。

虚弱效果在游戏中相当稀有，目前仅卡契尔的终结技能够提供一定数值的虚弱效果。

此处乘算保证了玩家无法通过叠加虚弱效果使敌人伤害降低至 0。虚弱效果可用于在一些情况下提升干员的生存能力，但不要太过在意。

---

### 庇护区

**庇护区 = 1- max(庇护效果)**

庇护效果即“一定时间内目标受到的所有伤害降低”，其不依赖于伤害类型。

目前游戏中，仅昼雪和卡契尔的战技能够为队伍提供 90%的庇护效果。

不同的庇护效果在叠加时只取最大值，也即取使受到的伤害最小的单一庇护效果，这也保证了游戏中无法通过叠加庇护达到不受伤的效果。

---

### 脆弱区

**脆弱区 = 1+ Σ脆弱效果**

脆弱效果即“一定时间内目标受到的特定属性的伤害提高”，与增幅效果类似，其主要作用于特定的伤害类型。

相比于增幅和庇护，目前游戏中的脆弱效果略多一点，黎风的战技、安塔尔的战技、艾尔黛拉的战技、埃特拉的连携技和洁尔佩塔的终结技均能提供脆弱效果。

此处注意将脆弱效果与其他效果进行区分，目前游戏中的脆弱效果都是在文本中标注为“脆弱效果”的。

---

### 易伤区

**易伤区 = 1+ Σ易伤**

易伤是指游戏中所有描述为“受到的伤害+”但未被描述为“脆弱”的效果。

易伤仍基于伤害类型。

游戏中常见的易伤效果如法术异常导电提供的法术易伤、物理异常碎甲提供的物理易伤和赛希的天赋[启动进程]提供的寒冷易伤等。

---

### 防御区

**防御区 = 100 / (有效防御 + 100)**

除真实伤害外，游戏中几乎所有伤害都会受到防御力的影响：

- 真实伤害: 防御区 = 1
- 有效防御 ≥ 0: 防御区 = 1 / (0.01 * 有效防御 + 1) = 100 / (有效防御 + 100)。

目前游戏中干员的基础防御力固定为 0，敌人的基础防御力固定为
100，且不随等级提升，即在没有其他影响敌人防御力的效果时，干员对敌人造成伤害时防御区 = 0.5。

---

### 失衡易伤区

**失衡易伤区 = 1.3**

当主控干员对敌人造成重击(普攻最后一段)
，干员对敌人造成连携技、战技、终结技伤害和一些特殊效果时可以对其累积失衡值，当敌人的失衡值累积到上限时其就会进入失衡状态，陷入失衡状态的敌人将在一定时间内无法行动同时受到的伤害增加，此即失衡易伤区：

- 当目标无失衡参数时(比如干员): 失衡易伤区 = 1
- 当目标未处于失衡状态时: 失衡易伤区 = 1
- 当目标处于失衡状态时 失衡易伤区 = 1.3。

目前游戏中敌人的失衡易伤系数都为 1.3。

---

### 抗性区

**抗性区 = 1 - 抗性 / 100 + 无视抗性 / 100**

干员的敏捷和智识属性可以分别为其提供物理抗性和法术抗性，其计算公式如下：`物理/法术抗性值 = 100 - 100 / (0.001 * 敏捷 /
智识 + 1)

游戏中敌人的抗性分为"B"、"C"、"D"等不同的档位。

- D 档位对应 0 点抗性。
- C 档位通常情况下对应 20 点抗性。
- B档位抗性对应 50 点抗性，目前游戏中仅碾骨清道夫和碾骨焰术师的灼热抗性为 50 点。
- 敌人的超域抗性默认都为 0。

---

### 非主控减伤区

非主控减伤区是一个直接作用于总伤害的效果，其只影响非主控干员受到的伤害。绝大部分的敌人技能不会对非主控干员减伤，此时非主控承伤系数为
1，也就是承受 100%的伤害。非主控干员在受到敌人的一些强大攻击伤害时受到的伤害会降低，即

- 非主控减伤区 = 1，该伤害不对非主控干员减伤；
- 非主控减伤区 = 非主控承伤系数，该伤害对非主控干员减伤。

---

### 连击增伤区

**连击增伤区= 1 + 连击增伤**
连击是一种特殊的增伤效果，施加连击效果后：

全队的下个战技或终结技的伤害提高，对战技的提高幅度更大，触发后效果清空。

同类效果可以叠加(最多 4 层)，但效果有衰减。

目前游戏中，仅黎风的连携技和秋栗解锁天赋[心流时间]后的终结技可以提供该效果。

连击增伤叠加时为非线性叠加，根据连击增伤的层数，战技伤害提升 30/45/60/75%，终结技伤害提升 20/30/40/50%。

---

### 特殊乘区

在以上提到的乘区之外，还有一些效果属于其他的客制化属性，这类效果与以上提到的乘区相互独立并乘算，由于笔者未在游戏中找到相应的可以用于命名此类乘区的名词，故将此类乘区归为特殊乘区，这里的典型案例是特殊减伤：
- 碾骨先锋持盾状态受到的伤害降低 90%。
- 棱镜天使连接的敌人受到的伤害降低 80%。
